{"version":3,"sources":["../../../../modules/builder/node_modules/browser-pack/_prelude.js","index.js","../src/gutenberg-blocks/UpvotyBlock.js","../src/gutenberg-blocks/index.js","../../../../../node_modules/@babel/runtime/helpers/assertThisInitialized.js","../../../../../node_modules/@babel/runtime/helpers/classCallCheck.js","../../../../../node_modules/@babel/runtime/helpers/createClass.js","../../../../../node_modules/@babel/runtime/helpers/defineProperty.js","../../../../../node_modules/@babel/runtime/helpers/getPrototypeOf.js","../../../../../node_modules/@babel/runtime/helpers/inherits.js","../../../../../node_modules/@babel/runtime/helpers/interopRequireDefault.js","../../../../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../../../../../node_modules/@babel/runtime/helpers/setPrototypeOf.js","../../../../../node_modules/@babel/runtime/helpers/typeof.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","_interopRequireDefault","Object","defineProperty","value","default","_classCallCheck2","_createClass2","_assertThisInitialized2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_defineProperty2","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","prototype","valueOf","_isNativeReflectConstruct","result","Super","NewTarget","this","constructor","arguments","apply","_window","window","wp","UGBLocalized","InspectorControls","blockEditor","_wp$components","components","PanelBody","Panel","PanelRow","TextControl","SelectControl","CheckboxControl","RadioControl","ToggleControl","FormToggle","Component","element","ServerSideRender","i18n","__","serverSideRender","EmptyLoopBlock","createElement","className","_default","_Component","UpvotyBlock","_super","_this","_len","args","Array","_key","concat","UpvotyWp","create","unsubscribe","check","$widget","el","querySelector","timer","setInterval","clearInterval","remove","createWidget","props","setAttributes","specific_board","board_hash","start_page","recreateWidget","name","attributes","key","_this2","_this$props","ref","block","EmptyResponsePlaceholder","LoadingResponsePlaceholder","title","initialOpen","label","specific_board_label","help","specific_board_help","checked","onChange","val","onChangeSpecificBoard","style","visibility","board_hash_label","board_hash_help","onChangeBoardAttribute","start_page_label","start_page_help","options","@babel/runtime/helpers/assertThisInitialized","@babel/runtime/helpers/classCallCheck","@babel/runtime/helpers/createClass","@babel/runtime/helpers/defineProperty","@babel/runtime/helpers/getPrototypeOf","@babel/runtime/helpers/inherits","@babel/runtime/helpers/interopRequireDefault","@babel/runtime/helpers/possibleConstructorReturn","2","_UpvotyBlock","registerBlockType","blocks","description","icon","xmlns","viewBox","x","fill","width","height","d","category","keywords","edit","save","./UpvotyBlock","3","self","ReferenceError","4","instance","Constructor","TypeError","5","_defineProperties","target","descriptor","enumerable","configurable","writable","protoProps","staticProps","6","obj","7","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","8","subClass","superClass","./setPrototypeOf","9","__esModule","10","_typeof","assertThisInitialized","./assertThisInitialized","@babel/runtime/helpers/typeof","11","_setPrototypeOf","12","Symbol","iterator"],"mappings":"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","file":"gutenberg-blocks.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import UpvotyBlock from './UpvotyBlock'\n\nconst { wp } = window\n\nconst {\n  blocks: {\n    registerBlockType\n  },\n  i18n: { __ },\n} = wp\n\n/**\n * Register Gutenberg block\n *\n * @see https://developer.wordpress.org/block-editor/developers/block-api/block-registration\n *\n * @param  {string}   name     Block name\n * @param  {Object}   settings Block settings\n * @return {?WPBlock}          The block, if it has been successfully\n *                             registered; otherwise `undefined`\n */\n\nregisterBlockType( 'tangible/upvoty', {\n  title: __( 'Upvoty' ),\n  description: __( 'Embed Upvoty feedback widget' ),\n\n  /**\n   * Icon\n   *\n   * @see https://developer.wordpress.org/block-editor/developers/block-api/block-registration/#icon-optional\n   * @see https://developer.wordpress.org/resource/dashicons/\n   */\n\n  // Based on dashicon-image-rotate - TODO: Create SVG from logo\n  icon:\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\"><rect x=\"0\" fill=\"none\" width=\"20\" height=\"20\"/><g><path d=\"M10.25 1.02c5.1 0 8.75 4.04 8.75 9s-3.65 9-8.75 9c-3.2 0-6.02-1.59-7.68-3.99l2.59-1.52c1.1 1.5 2.86 2.51 4.84 2.51 3.3 0 6-2.79 6-6s-2.7-6-6-6c-1.97 0-3.72 1-4.82 2.49L7 8.02l-6 2v-7L2.89 4.6c1.69-2.17 4.36-3.58 7.36-3.58z\"/></g></svg>\n  ,\n\n  /**\n   * Category\n   *\n   * Core categories are common, formatting, layout, widgets, embed\n   *\n   * @see https://developer.wordpress.org/block-editor/designers-developers/developers/filters/block-filters/#managing-block-categories\n   */\n  category: 'embed',\n  keywords: [\n    __( 'upvoty' ),\n  ],\n\n  edit(props) {\n    return <UpvotyBlock {...props} />\n  },\n\n  save() {\n    // Dynamic block\n    return null\n  }\n})\n","\nconst {\n  wp,\n  UGBLocalized\n} = window\n\nconst {\n  blockEditor: {\n    InspectorControls\n  },\n  components: {\n    Panel,\n    PanelBody,\n    PanelRow,\n    TextControl,\n    CheckboxControl,\n    RadioControl,\n    SelectControl,\n    FormToggle,\n    ToggleControl\n  },\n  element: {\n    Component\n  },\n  i18n: { __ },\n  serverSideRender: ServerSideRender\n} = wp\n\nconst EmptyLoopBlock = () => <div className=\"tangible-upvoty-block\">&nbsp;</div>\n\nclass UpvotyBlock extends Component {\n\n  componentDidMount() {\n    this.createWidget()\n  }\n\n  componentDidUnmount() {\n    if (this.unsubscribe) this.unsubscribe()\n  }\n\n  createWidget = () => {\n\n    const { UpvotyWp } = window\n\n    if (!UpvotyWp || !UpvotyWp.create) return\n\n    /**\n     * The workaround below is due to <ServerSideRender> not having a hook\n     * when content is fetched and rendered.\n     *\n     * @see https://github.com/WordPress/gutenberg/tree/master/packages/server-side-render\n     *\n     * We check at regular intervals until the element (with data attribute) is ready.\n     */\n\n    if (this.unsubscribe) this.unsubscribe()\n\n    const check = () => {\n\n      const $widget = this.el && this.el.querySelector('[data-upvoty]')\n      if (!$widget) return\n\n      UpvotyWp.create({\n        element: $widget\n      })\n\n      this.unsubscribe()\n    }\n\n    const timer = setInterval(check, 1000)\n\n    this.unsubscribe = () => {\n      clearInterval(timer)\n      this.unsubscribe = null\n    }\n\n    check()\n  }\n\n  recreateWidget = () => {\n\n    const $widget = this.el && this.el.querySelector('[data-upvoty]')\n    if ($widget) $widget.remove()\n\n    this.createWidget()\n  }\n\n  onChangeSpecificBoard = ( value ) => {\n\n    if ( value ) {\n      this.props.setAttributes({ specific_board: 'yes' })\n    } else {\n      this.props.setAttributes({\n        specific_board: '',\n        board_hash: '',\n        start_page: ''\n      })\n    }\n\n    this.recreateWidget()\n  }\n\n  onChangeBoardAttribute = ( name, value ) => {\n\n    // board_hash, start_page needs specific board\n\n    if ( ! this.props.attributes.specific_board ) return\n\n    this.props.setAttributes({\n      [name]: value\n    })\n\n    this.recreateWidget()\n  }\n\n  render() {\n\n    const {\n      className,\n      attributes\n    } = this.props\n\n    const {\n      specific_board,\n      board_hash,\n      start_page\n    } = attributes\n\n    return (\n      <div ref={el => this.el = el}>\n        <ServerSideRender\n          block=\"tangible/upvoty\"\n          className={ className }\n          attributes={ attributes }\n          EmptyResponsePlaceholder={ EmptyLoopBlock }\n          LoadingResponsePlaceholder={ EmptyLoopBlock }\n        />\n        { <InspectorControls>\n          <PanelBody\n            title=\"Settings\"\n            initialOpen={ true }\n          >\n            <PanelRow>\n              <ToggleControl\n                label={ UGBLocalized.specific_board_label }\n                help={ UGBLocalized.specific_board_help }\n                checked={specific_board}\n                onChange={( val ) => this.onChangeSpecificBoard(val)}\n              />\n            </PanelRow>\n            <div style={{\n              visibility: specific_board ? 'visible' : 'hidden'\n            }}>\n              <PanelRow>\n                <TextControl\n                  label={ UGBLocalized.board_hash_label }\n                  help={ UGBLocalized.board_hash_help }\n                  onChange={ ( val ) => this.onChangeBoardAttribute('board_hash', val) }\n                  value={ board_hash }\n                />\n              </PanelRow>\n              <PanelRow>\n                <SelectControl\n                  label={ UGBLocalized.start_page_label }\n                  help={ UGBLocalized.start_page_help }\n                  options = {[\n                    { label: 'Roadmap Start Page', value: 'roadmap' },\n                    { label: 'Default Board Page', value: '' },\n                  ]}\n                  onChange={ ( val ) => this.onChangeBoardAttribute('start_page', val) }\n                  value={ start_page }\n                />\n              </PanelRow>\n            </div>\n          </PanelBody>\n        </InspectorControls> }\n      </div>\n    )\n  }\n}\n\nexport default UpvotyBlock\n","import UpvotyBlock from './UpvotyBlock'\n\nconst { wp } = window\n\nconst {\n  blocks: {\n    registerBlockType\n  },\n  i18n: { __ },\n} = wp\n\n/**\n * Register Gutenberg block\n *\n * @see https://developer.wordpress.org/block-editor/developers/block-api/block-registration\n *\n * @param  {string}   name     Block name\n * @param  {Object}   settings Block settings\n * @return {?WPBlock}          The block, if it has been successfully\n *                             registered; otherwise `undefined`\n */\n\nregisterBlockType( 'tangible/upvoty', {\n  title: __( 'Upvoty' ),\n  description: __( 'Embed Upvoty feedback widget' ),\n\n  /**\n   * Icon\n   *\n   * @see https://developer.wordpress.org/block-editor/developers/block-api/block-registration/#icon-optional\n   * @see https://developer.wordpress.org/resource/dashicons/\n   */\n\n  // Based on dashicon-image-rotate - TODO: Create SVG from logo\n  icon:\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\"><rect x=\"0\" fill=\"none\" width=\"20\" height=\"20\"/><g><path d=\"M10.25 1.02c5.1 0 8.75 4.04 8.75 9s-3.65 9-8.75 9c-3.2 0-6.02-1.59-7.68-3.99l2.59-1.52c1.1 1.5 2.86 2.51 4.84 2.51 3.3 0 6-2.79 6-6s-2.7-6-6-6c-1.97 0-3.72 1-4.82 2.49L7 8.02l-6 2v-7L2.89 4.6c1.69-2.17 4.36-3.58 7.36-3.58z\"/></g></svg>\n  ,\n\n  /**\n   * Category\n   *\n   * Core categories are common, formatting, layout, widgets, embed\n   *\n   * @see https://developer.wordpress.org/block-editor/designers-developers/developers/filters/block-filters/#managing-block-categories\n   */\n  category: 'embed',\n  keywords: [\n    __( 'upvoty' ),\n  ],\n\n  edit(props) {\n    return <UpvotyBlock {...props} />\n  },\n\n  save() {\n    // Dynamic block\n    return null\n  }\n})\n","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","var _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;"]}